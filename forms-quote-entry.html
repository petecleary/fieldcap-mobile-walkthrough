<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>Field Cap</title>
  <link rel="stylesheet" href="jquery.mobile-1.3.1.min.css" />
  <script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/jquery.mobile-1.3.1.min.js"></script>  
  <script src="js/jquery-template.js"></script>  
  <script src="alpaca/alpaca.js"></script>   
  <link rel="stylesheet" href="alpaca/alpaca.css" />
  <link rel="stylesheet" href="alpaca/alpaca-mobile.css" />
</head>
<body>
<!-- Home -->
<div data-role="page" id="page1">
    <div data-theme="e" data-role="header" data-position="fixed">
        <a data-role="button" data-direction="reverse" data-rel="back" data-transition="slide"
        href="#page1" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
            Back
        </a>
        <h3>
            Quote Sheet - Joe Shmo (80%)
        </h3>
    </div>
    <div data-role="content">
        
        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    Name & Owner
                </h3>  
                <div id="nameowner"></div>
            </div>
        </div>
        
        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    Address
                </h3>  
                <div id="address"></div>
            </div>
        </div>

        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    Site Address
                </h3>  
                <div id="siteAddress"></div>
            </div>
        </div>

        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="true">
                <h3>
                    Details
                </h3>  
                <div data-role="fieldcontain">
                    <input name="name" id="text1" placeholder="password" value=""
                    type="password">
                </div>
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <strong>Synchroised</strong>
                    </div>
                    <div class="ui-block-b">
                        Pete - 01/11/2013 @ 17:45
                    </div>
                </div>
            </div>
        </div>
        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="true">
                <h3>
                    History
                </h3>  
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <strong>Synchroised</strong>
                    </div>
                    <div class="ui-block-b">
                        Pete - 01/11/2013 @ 17:45
                    </div>
                    <div class="ui-block-a">
                        <strong>Updated</strong>
                    </div>
                    <div class="ui-block-b">
                        Pete - 01/11/2013 @ 17:43
                    </div>
                    <div class="ui-block-a">
                        <strong>Created</strong>
                    </div>
                    <div class="ui-block-b">
                        Pete - 01/11/2013 @ 16:43
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div data-theme="e" data-role="footer" data-position="fixed">
        <div data-role="navbar" data-iconpos="left">
            <ul>
                <li>
                    <a href="#page1" data-transition="slide" data-theme="" data-icon="refresh">
                        Sync
                    </a>
                </li>
                <li>
                    <a href="#" onclick="buildForm();" data-transition="slide" data-theme="" data-icon="star">
                        Build
                    </a>
                </li>
                <li>
                    <a href="#page1" data-transition="slide" data-theme="" data-icon="check">
                        Save
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
    <script type="text/javascript">

        function buildForm() {
            buildNameOwner();
            buildAddress();
            buildSiteAddress();
        }

        function buildNameOwner() {
            var nameowner = {
                data: {
                    "name": "Joe Shmo",
                    "company": "N/A",
                    "contact": "Joe Shmo",
                    "homephone": "01306 112222",
                    "workphone": "01306 112222",
                    "mobile": "07000 111222"
                },
                schema: {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string",
                            "required": true
                        },
                        "company": {
                            "type": "string",
                            "required": true
                        },
                        "contact": {
                            "type": "string",
                            "required": true
                        },
                        "homephone": {
                            "type": "string"
                        },
                        "workphone": {
                            "type": "string"
                        },
                        "mobile": {
                            "type": "string"
                        }
                    }
                },
                options: {
                    "fields": {
                        "name": {
                            "label": "Capture name",
                            "type": "text"
                        },
                        "company": {
                            "label": "Company",
                            "type": "text"
                        },
                        "contact": {
                            "label": "Contact",
                            "type": "text"
                        },
                        "homephone": {
                            "label": "Home phone",
                            "type": "text"
                        },
                        "workphone": {
                            "label": "Work phone",
                            "type": "text"
                        },
                        "mobile": {
                            "label": "Mobile",
                            "type": "text"
                        }
                    }
                }
            };


            var postRenderCallback = function (control) {};

            $("#nameowner").alpaca({
                "data": nameowner.data,
                "schema": nameowner.schema,
                "options": nameowner.options,
                "view": "VIEW_WEB_EDIT"
            });

        };


        function buildAddress() {
            var address = {
                data: {
                    "address1": "The House",
                    "address2": "The Street",
                    "address3": "The Village",
                    "address4": "",
                    "county": "Surrey",
                    "postcode": "RH1 1AB",
                    "country": "gbr"
                },
                schema: {
                    "type": "object",
                    "properties": {
                        "address1": {
                            "type": "string",
                            "required": true
                        },
                        "address2": {
                            "type": "string",
                            "required": false
                        },
                        "address3": {
                            "type": "string",
                            "required": false
                        },
                        "address4": {
                            "type": "string",
                            "required": false
                        },
                        "county": {
                            "type": "string",
                            "required": true
                        },
                        "postcode": {
                            "type": "string",
                            "required": true
                        },
                        "country": {
                            "type": "string",
                            "required": true
                        }
                    }
                },
                options: {
                    "fields": {
                        "address1": {
                            "label": "Address",
                            "type": "text"
                        },
                        "address2": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "address3": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "address4": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "county": {
                            "label": "County",
                            "type": "text"
                        },
                        "postcode": {
                            "label": "Post Code",
                            "type": "text"
                        },
                        "country": {
                            "label": "Country",
                            "type": "country"
                        }
                    }
                }
            };


            var postRenderCallback = function (control) { };

            $("#address").alpaca({
                "data": address.data,
                "schema": address.schema,
                "options": address.options,
                "view": "VIEW_WEB_EDIT"
            });

        };


        function buildSiteAddress() {

            var siteAddress = {
                data: {
                    "address1": "The House",
                    "address2": "The Street",
                    "address3": "The Village",
                    "address4": "",
                    "county": "Surrey",
                    "postcode": "RH1 1AB",
                    "country": "gbr"
                },
                schema: {
                    "type": "object",
                    "properties": {
                        "address1": {
                            "type": "string",
                            "required": true
                        },
                        "address2": {
                            "type": "string",
                            "required": false
                        },
                        "address3": {
                            "type": "string",
                            "required": false
                        },
                        "address4": {
                            "type": "string",
                            "required": false
                        },
                        "county": {
                            "type": "string",
                            "required": true
                        },
                        "postcode": {
                            "type": "string",
                            "required": true
                        },
                        "country": {
                            "type": "string",
                            "required": true
                        }
                    }
                },
                options: {
                    "fields": {
                        "address1": {
                            "label": "Address",
                            "type": "text"
                        },
                        "address2": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "address3": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "address4": {
                            "label": "&nbsp;",
                            "type": "text"
                        },
                        "county": {
                            "label": "County",
                            "type": "text"
                        },
                        "postcode": {
                            "label": "Post Code",
                            "type": "text"
                        },
                        "country": {
                            "label": "Country",
                            "type": "country"
                        }
                    }
                }
            };

            var postRenderCallback = function (control) { };


            $("#siteAddress").alpaca({
                "data": siteAddress.data,
                "schema": siteAddress.schema,
                "options": siteAddress.options,
                "view": "VIEW_WEB_EDIT"
            });
        };

    </script>
</body>
</html>
